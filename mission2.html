<!DOCTYPE html>
<!-- saved from url=(0041)file:///C:/Users/PC/Desktop/mission2.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>哈哈哈哈哈笑话</title>
    <style>
        body {
          font-family: helvetica, sans-serif;
          width: 400px;
          border: 2px solid;
          padding: 2em;
        }
        label {
          font-weight: bold;
        }
        div {
          padding-bottom: 40px;
        }
        input[type="text"] {
          padding: 4px;
          width: 200px;
        }
        p {
          background: #ffc125;
          color: #5e2612;
          padding: 10px;
          visibility: hidden;
        }
      </style>
</head>
<body>
    <div>
        <label for="customname" id="lbl-customname">请输入名字：</label>
        <input id="customname" type="text" placeholder="老索">
      </div>
      <div>
        <label for="metric">摄氏度</label>
        <input id="metric" type="radio" name="measure" value="metric" checked="">
        <label for="american">华氏度</label>
        <input id="american" type="radio" name="measure" value="american">
      </div>
      <div>
        <button class="randomize">随机生成您的笑话</button>
      </div>
      <!-- Thanks a lot to Willy Aguirre for his help with the code for this assessment -->
      <p class="story"></p>
  
      <script>
        const customName = document.getElementById("customname");
        const randomize = document.querySelector(".randomize");
        const story = document.querySelector(".story");
  
        function randomValueFromArray(array) {
          const random = Math.floor(Math.random() * array.length);
          return array[random];
        }
  
        let storyText =
          "今天气温 6 摄氏度，:insertx:出门散步。当走到:inserty:门前时，突然就:insertz:。人们都惊呆了，索大爷全程目睹但并没有慌，因为:insertx:是一个 120kg的大胖子，天气又辣么cold。";
        let insertX = ["怪兽威利", "大老爹", "圣诞老人"];
        let insertY = ["肯德基", "迪士尼乐园", "白宫"];
        let insertZ = ["自爆了", "在人行道化成了一坨泥", "变成一个尸体了"];
  
        randomize.addEventListener("click", result);
  
        function result() {
          let newStory = storyText;
  
          let xItem = randomValueFromArray(insertX);
          let yItem = randomValueFromArray(insertY);
          let zItem = randomValueFromArray(insertZ);
  
          newStory = newStory.replace(":insertx:", xItem);
          newStory = newStory.replace(":insertx:", xItem);
          newStory = newStory.replace(":inserty:", yItem);
          newStory = newStory.replace(":insertz:", zItem);
  
          if (customName.value !== "") {
            const name = customName.value;
            newStory = newStory.replace("索萧东", name);
          }
  
          if (document.getElementById("american").checked) {
            const weight = Math.round(140 * 2.20462) + " bang";
            const temperature = Math.round((35 * 9) / 5 + 32) + " 华氏度";
            newStory = newStory.replace("35 摄氏度", temperature);
            newStory = newStory.replace("120 kg", weight);
          }
  
          story.textContent = newStory;
          story.style.visibility = "visible";
        }
      </script>

</body></html>